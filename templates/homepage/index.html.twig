{% extends 'base.html.twig' %}
{% set Title="Titre Homepage" %}

{% block title %}{{ Title }} - {{ parent() }}{% endblock %}

{% block body %}
{% for flashError in app.flashes('adding_to_cart') %}
    <div class="alert alert-success" role="alert">{{ flashError }}</div>
{% endfor %}
{% for flashError in app.flashes('register-success') %}
    <div class="alert alert-success" role="alert">{{ flashError }}</div>
{% endfor %}

    <div class="container-fluid mt-5 justify-content-center align-items-center">

        <!-- La vitesse de défilement des images du CARIUSEL est gérée en JS dans APP.JS -->
        <div id="carouselExampleSlidesOnly" class="carousel slide" data-bs-ride="carousel">
            <div class="mb-5">
                <h2 class="titre">Notre Selection nouveautés</h2>
            </div>
            {#{% set plimit = 3 %}#}
            {#{% if produits|length != 0 %}#}
            <!-- <div class="carousel-inner"> -->
                <!-- <div class="item produit-item active"> -->
                {#{% for produit in produits %}#}
                    <!-- <div class="col-md-4"> -->
                        <!-- <div class="thumbnail"> -->
                        <!-- </div> -->
                    <!-- </div> -->
                <!-- </div> -->
                {#{% if loop.index % plimit == 0 and not loop.last %}#}
            <!-- </div> -->
            <!-- <div class="item produit-item"> -->
                {#{% endif %}#}
                {#{% endfor %}#}
            <!-- </div> -->
            <div class="carousel-inner shadow-lg p-3 mb-5 bg-white rounded">
                <div class="carousel-item active">
                    <img src="{{ asset('build/images/1.jpg') }}" class="d-block w-100" alt="..." />
                </div>
                <div class="carousel-item">
                    <img src="{{ asset('build/images/2.jpg') }}" class="d-block w-100" alt="..." />
                </div>
                <div class="carousel-item">
                    <img src="{{ asset('build/images/3.jpg') }}" class="d-block w-100" alt="..." />
                </div>
            </div>
        </div>
    </div>

    <p class="section-texte">BEST SELLERS</p>

    <div class="cardbox d-flex flex-row flex-wrap justify-content-around align-items-center">
        <!-- ITERATION ??? -->
        {% for article in bestsellers() %}
        <div class="card col-10 col-md-5 col-xl-2">
            <img src="{{ asset('build/images/vin.jpg') }}" class="card-img-top" alt="article bestseller" />
            <div class="card-body">
                <h3 class="card-text">{{ article.title }}</h3>
                <p class="card-text">
                    {{ article.region }}
                    <br>
                </p>
                <div class="DivArticlePrice d-flex flex-row">
                    <a class="btn btn-sm btnUser InputAdd2Kart" href="{{ path('kart_add', {'id': article.id}) }}"><i class="ri-shopping-basket-line"></i>  Ajouter au panier</a>
                    <div class="d-flex flex-column">
                        <span class="card--Price">{{ article.price }} €</span>
                        <div class="DivLinearGradientHorizontal"></div>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>

{% endblock %}
